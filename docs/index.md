# What is Flagpole?

*"Let me run it up the flagpole first"*

Running something up the flagpole means you check on it first to see if it's good before going forward. And that's exactly what this framework is about, so we like the analogy. 

Flagpole is a flexible framework that can support a number of different types of testing:

* Full browser testing with Puppeteer
* Super-fast HTML DOM testing with Cheerio (jQuery for Node)
* REST API/JSON End Points
* Lightweight image tester that can verify the dimensions, mime and file size without downloading the whole thing
* Stylesheets including basic CSS validation
* Basic validation for other resources like JavaScript

Flagpole is designed to be simple so that the most junior engineer or QA analyst can pick it up within hours.

Flagpole is designed for portability, so that you can run it locally within your repository from a githook, in the cloud when something is deployed, as a scheduled job, or manually any time you want.

Flagpole has a rich CLI that can be used to list tests, run tests, create new suites or scenarios, etc.

## Getting Started

First thing we need to do is install Flagpole with npm. Go into the root of your project and run this:

```bash
npm i flagpole -g
npm i flagpole --save-dev
```

The above command installs it both locally (within the project) and globally. This is a little annoying that we have to do both. But we do. Globally is so that the command "flagpole" will run. The second one is so that your test suites can find it.

If you want to also use Puppeteer in your project install it as well, as a dev dependency.

```bash
npm i puppeteer --save-dev
```

You should be able to run the flagpole command now, which will give you instructions on how to use the CLI.

```bash
flagpole
```

Pretty colors, eh?

Now let's initialize our project

```bash
flagpole init
```

Once you answer those questions, you should have a flagpole.json file. Now we need to create our first test scenario.


```bash
flagpole add suite
```

Answer those questions and it will set up your first test file. Now let's make sure. If we run this command you should see it listed.

```bash
flagpole list
```

We should be able to run this very basic test with:

```bash
flagpole run
```

Sweet! How about we actually do something with the test now and run it. So open that test file that was generated by our "add suite" command earlier and add this into the next callback:

```typescript
this.assert('HTTP Status equals 200', response.status().equals(200);
```

Now run the flagpole run command again...

```bash
flagpole run
```

And if we did everything right, then you should see something like:

```text

     $$$$$$$$\ $$\                                         $$\           
     $$  _____|$$ |                                        $$ |          
     $$ |      $$ | $$$$$$\   $$$$$$\   $$$$$$\   $$$$$$\  $$ | $$$$$$\  
     $$$$$\    $$ | \____$$\ $$  __$$\ $$  __$$\ $$  __$$\ $$ |$$  __$$\ 
     $$  __|   $$ | $$$$$$$ |$$ /  $$ |$$ /  $$ |$$ /  $$ |$$ |$$$$$$$$ |
     $$ |      $$ |$$  __$$ |$$ |  $$ |$$ |  $$ |$$ |  $$ |$$ |$$   ____|
     $$ |      $$ |\$$$$$$$ |\$$$$$$$ |$$$$$$$  |\$$$$$$  |$$ |\$$$$$$$\ 
     \__|      \__| \_______| \____$$ |$$  ____/  \______/ \__| \_______|
                             $$\   $$ |$$ |                              
                             \$$$$$$  |$$ |                              
                              \______/ \__|  

 ================================================== 
                    HELLO WORLD                    
 ================================================== 
 » Base URL: http://www.flosports.tv 
 » Environment: dev 
 » Took 1383ms
 
 » Passed? Yes
 
 Just getting a test to run 
   ✔  Loaded HTML Page / 
   ✔  HTTP Status equals 200 
   » Took 1382ms

```

That's it for now, but will have more coming and links to our blog posts for getting started.

In the meantime, see the [examples folder in the repo](https://github.com/flocasts/flagpole/tree/master/example).
