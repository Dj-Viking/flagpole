<html>

<head>
    <title>Flagpole JS QA Framework - CLI</title>
    <link rel="stylesheet" href="stylesheet.css"><script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
</head>

<body>
    <header>
        <div class="logo">
            <strong>Flagpole JS QA Framework</strong>
        </div>
        <nav>
            <a href="index.html">Home</a>
            <a href="docs.html">Developer Docs</a>
            <a href="https://github.com/flocasts/flagpole">GitHub Repo</a>
            <a href="https://www.npmjs.com/package/flagpole">NPM Package</a>
        </nav>
    </header>
    <main>
        <h1>Events</h1>
        
        <p>
            This is the rough order that events will fire in:
        </p>
        <ul>
            <li>Suite.beforeAll</li>
            <li>Suite.beforeEach</li>
            <li>Scenario.before</li>
            <li>Scenario.next</li>
            <li>Suite.afterEach</li>
            <li>Scenario.after</li>
            <li>Scenario.success | Scenario.failure | Scenario.error</li>
            <li>Suite.afterAll</li>
            <li>Scenario.finally</li>
            <li>Suite.success | Suite.failure | Suite.error</li>
            <li>Suite.finally</li>
        </ul>
        
        <article>
            <h2>Scenario.after()</h2>
            <p>
                This will fire just after this Scenario has finished executing and marked completed, but before the
                success/failure/error or finally.
            </p>
        </article>
        <article>
            <h2>Scenario.before()</h2>
            <p>
                This will fire just after this Scenario has been marked started, but before it actually starts the request.
            </p>
        </article>
        <article>
            <h2>Scenario.error()</h2>
            <p>
                This is called after the Scenario.after and before Scenario.finally, but only if the Scenario fails with an uncaught
                exception.
            </p>
        </article>
        <article>
            <h2>Scenario.failure()</h2>
            <p>
                This is called after the Scenario.after and before Scenario.finally, but only if the Scenario fails at least one
                assertion.
            </p>
        </article>
        <article>
            <h2>Scenario.finally()</h2>
            <p>
                This is called as the last thing after the Scenario has completed, whether it passes or fails. This will be after
                success/failure/error.
            </p>
        </article>
        <article>
            <h2>Scenario.success()</h2>
            <p>
                This is called after the Scenario.after and before Scenario.finally, but only if the Scenario passes.
            </p>
        </article>
        <article>
            <h2>Suite.afterAll()</h2>
            <p>
                This will run after the last Scenario.after, so at this point all Scenarios are completed and the Suite will have just
                been marked completed.
            </p>
        </article>
        <article>
            <h2>Suite.afterEach()</h2>
            <p>
                This will run as soon as each scenario is marked completed.
            </p>
        </article>
        <article>
            <h2>Suite.beforeAll()</h2>
            <p>
                This will always run before anything else executes. Therefore, it's a great place to do some setup. If you return a
                promise then the execution of the next steps will wait until that promise is resolved. You can chain multiple beforeAlls
                if you like.
            </p>
            <pre class="prettyprint"><code class="language-javascript">
                const suite = Flagpole.suite('Test order of callbacks')
                    .beforeAll(() => {
                        return new Promise((resolve) => {
                            // Wait one second before executing the first scenario
                            setTimeout(resolve, 1000);
                        });
                    })
                    // Chain another one
                    .beforeAll(() => {
                        return new Promise((resolve) => {
                            // Actually wait another second
                            setTimeout(resolve, 1000);
                        });
                    })
            </code></pre>
        </article>
        <article>
            <h2>Suite.beforeEach()</h2>

            This will run after each scenario has been marked as started, but before the request actually gets called.
        </article>
        <article>
            <h2>Suite.error()</h2>
            
            If any scenarios failed with an unhandled error, this will run after Suite.afterAll and before Suite.finally.
        </article>
        <article>
            <h2>Suite.failure()</h2>
            
            If any scenarios failed, this will run after Suite.afterAll and before Suite.finally.
        </article>
        <article>
            <h2>Suite.finally()</h2>
            
            This will always be the last thing to run. The suite and all scenarios will be completed at that point, whether they
            succeeded or failed.
        </article>
        <article>
            <h2>Suite.success()</h2>
            
            If all scenarios passed, this will run after Suite.afterAll and before Suite.finally.
        </article>
    </main>
    <footer>
        <div class="copyright">
            <span>Flagpole is an open sourced project by <a href="https://www.flosports.tv">FloSports</a></span>
        </div>
        <div class="credit">
            Created by <a href="http://www.jasoncbyrne.com">Jason Byrne</a>
        </div>
    </footer>
</body>

</html>